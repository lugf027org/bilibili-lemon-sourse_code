clear;clc;
Fs = 8192;
a = 1;      b = 1/2;    c = 1/4;    d = 1/8;
e = 1/16;   f = 1/32;   c3 = 3/4;   d3 = 3/8;  
e3 = 3/16;  d4 = 1/12;  e5 = 5/16;  d5 = 5/12;
c1 = 1/6;   c2 = 2/6;   B = 'B';    A = 'A';
% tone: 取哪个音节;  rythm: 节拍数; keynote_change:升降调8度; keynote_type:当前基调; up_down:音节升降
tone =          [0, 0, 0, 1, 2, 3, 1, 6, 2, 7, 5, 3, 7, 6, 5, 1, 5, 3, 2, 3,...
    4, 1, 7, 7, 1, 5, 4, 3, 4, 4, 1, 7, 7, 6, 5, 1, 2, 3, 1, 6, 2,...
    7, 5, 3, 7, 6, 5, 1, 5, 3, 2, 3, 4, 5, 4, 4, 5, 3, 5, 1, 3,...
    2, 2, 2, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 1, 6, 2,...
    7, 5, 3, 7, 6, 5, 1, 5, 3, 2, 3, 4, 1, 7, 1, 5, 4, 3, 4,...
    4, 1, 7, 7, 6, 5, 1, 2, 3, 1, 6, 2, 7, 5, 3, 7, 6, 5, 1, 5,...
    3, 2, 3, 4, 5, 4, 4, 5, 3, 5, 1, 3, 2, 2, 2, 1, 1,...
    6, 7, 1, 7, 6, 5, 3, 3, 2, 3, 4 ,3, 2, 1, 2, 5, 4, 5, 6, 5, 4,...
    3, 1, 1, 1, 7, 6, 7, 1, 0, 2, 3, 2, 1, 6, 1, 3, 5, 2, 1, 2, 3, 2, 1,...
    6, 1, 3, 5, 2, 1, 2, 3, 2, 1, 5, 1, 3, 5, 6, 5, 5, 1,...
    7, 5, 3, 5, 2, 2, 2, 3, 2, 1, 6, 1, 3, 5, 2, 1, 1, 1, 2, 3,...
    4, 3, 2, 7, 1, 1, 7, 6, 7, 1, 2, 1, 5, 3, 5, 6, 2, 7, 1,...
    1, 1, 7, 6, 7, 1, 2, 1, 5, 1, 2, 3, 4, 2, 1, 1, 0];
rythm =         [c, c, c, d, d, c, d, d3,c, c, d, d3,c, c, d, d3,c, c3,d, d,...
    b, c, d4,d4,d4,b, c, e3,e, b, c, d4,d4,d4,c3,d, d, c, d, d3,c,...
    c, d, d3,c, c, d, d3,c, c3,d, d, b, c, d4,d4,d4,c, c, c, c,...
    d3,d, d, c, d, a, c, c, c, c, c, c, c, d, d, c, d, d3,c,...
    c, d, d3,c, c, d, d3,c, c3,d, d, b, c, d, d, b, c, e3,e,...
    b, c, d4,d4,d4,c3,d, d, c, d, d3,c, c, d, d3,c, c, d, d3,d,...
    c3,d, d, b, c, d4,d4,d4,c, c, c, c, d, d3, e3,e5,a,...
    d3,d, c, d, d, c, c, b, d3,d, c, d, d, c, c, b, d3,d, c, d, d,...
    c, c, c, c, b, c, c, c, c, e3,e, e3,e, d, d3,e3,e5,d, d3,e3,e, e3,e,...
    d, d3,e3,e5,d, d3,e3,e, e3,e, d, d3,e3,e5,d, d3,d, d3,...
    d, d3,d, c, d, b, e3,e, e3,e, d, d3,e3,e5,d, d3,e3,e, e3,e,...
    d3,d5,c2,c1,c3,e3,e, c, c, c, c, c, c, c1,c2,d3,d5,d3,d5,...
    c3,e3,e, c, c, c, c, c, c, c2,c1,e3,e5,e3,e5,c3,c];
keynote_change= [1, 1, 1, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,...
    1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2,...
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2,...
    2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2,...
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1,...
    1, 2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 1,...
    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2,...
    1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 1,...
    1, 2, 2, 2, 1, 1, 1, 2, 1, 2, 2, 2, 2, 1, 2, 2, 2, 2 ,2, 2, 2, 2, 2,...
    1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2,...
    2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2,...
    2, 2, 2, 1, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 1, 2,...
    2, 2, 1, 1, 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1];
up_down =       [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,...
    0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
keynote_type=   [B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B,...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B...
    B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B, B];
y = [];

len = length(tone);
for i = 1:1:len
    y = [y, get_wave(tone(i), rythm(i), keynote_change(i), keynote_type(i), up_down(i))];
end
%plot(y);
sound(y, Fs)